ALTER TABLE insta2_file DROP PRIMARY KEY, ADD PRIMARY KEY (`seq`, `created`);

ALTER TABLE `insta2_file` partition by range (to_days(created)) (
partition p202212 values less than (to_days('2022-12-01')),
partition p202301 values less than (to_days('2023-01-01')),
partition p202302 values less than (to_days('2023-02-01')),
partition p202303 values less than (to_days('2023-03-01')),
partition p202304 values less than (to_days('2023-04-01')),
partition p202305 values less than (to_days('2023-05-01')),
partition p202306 values less than (to_days('2023-06-01')),
partition p202307 values less than (to_days('2023-07-01')),
partition p202308 values less than (to_days('2023-08-01')),
partition p202309 values less than (to_days('2023-09-01')),
partition p202310 values less than (to_days('2023-10-01')),
partition p202311 values less than (to_days('2023-11-01')),
partition p202312 values less than (to_days('2023-12-01')),
partition p202401 values less than (to_days('2024-01-01')),
partition p202402 values less than (to_days('2024-02-01')),
partition p202403 values less than (to_days('2024-03-01')),
partition p202404 values less than (to_days('2024-04-01')),
partition p202405 values less than (to_days('2024-05-01')),
partition p202406 values less than (to_days('2024-06-01')),
partition p202407 values less than (to_days('2024-07-01')),
partition p202408 values less than (to_days('2024-08-01')),
partition p202409 values less than (to_days('2024-09-01')),
partition p202410 values less than (to_days('2024-10-01')),
partition p202411 values less than (to_days('2024-11-01')),
partition p202412 values less than (to_days('2024-12-01')),
partition p202501 values less than (to_days('2025-01-01')),
partition p202502 values less than (to_days('2025-02-01')),
partition p202503 values less than (to_days('2025-03-01')),
partition p202504 values less than (to_days('2025-04-01')),
partition p202505 values less than (to_days('2025-05-01')),
partition p202506 values less than (to_days('2025-06-01')),
partition p202507 values less than (to_days('2025-07-01')),
partition p202508 values less than (to_days('2025-08-01')),
partition p202509 values less than (to_days('2025-09-01')),
partition p202510 values less than (to_days('2025-10-01')),
partition p202511 values less than (to_days('2025-11-01')),
partition p202512 values less than (to_days('2025-12-01')),
partition pmax VALUES LESS THAN MAXVALUE
);

ALTER TABLE insta2_post DROP PRIMARY KEY, ADD PRIMARY KEY (`seq`, `created`);

ALTER TABLE `insta2_post` partition by range (to_days(created)) (
partition p202212 values less than (to_days('2022-12-01')),
partition p202301 values less than (to_days('2023-01-01')),
partition p202302 values less than (to_days('2023-02-01')),
partition p202303 values less than (to_days('2023-03-01')),
partition p202304 values less than (to_days('2023-04-01')),
partition p202305 values less than (to_days('2023-05-01')),
partition p202306 values less than (to_days('2023-06-01')),
partition p202307 values less than (to_days('2023-07-01')),
partition p202308 values less than (to_days('2023-08-01')),
partition p202309 values less than (to_days('2023-09-01')),
partition p202310 values less than (to_days('2023-10-01')),
partition p202311 values less than (to_days('2023-11-01')),
partition p202312 values less than (to_days('2023-12-01')),
partition p202401 values less than (to_days('2024-01-01')),
partition p202402 values less than (to_days('2024-02-01')),
partition p202403 values less than (to_days('2024-03-01')),
partition p202404 values less than (to_days('2024-04-01')),
partition p202405 values less than (to_days('2024-05-01')),
partition p202406 values less than (to_days('2024-06-01')),
partition p202407 values less than (to_days('2024-07-01')),
partition p202408 values less than (to_days('2024-08-01')),
partition p202409 values less than (to_days('2024-09-01')),
partition p202410 values less than (to_days('2024-10-01')),
partition p202411 values less than (to_days('2024-11-01')),
partition p202412 values less than (to_days('2024-12-01')),
partition p202501 values less than (to_days('2025-01-01')),
partition p202502 values less than (to_days('2025-02-01')),
partition p202503 values less than (to_days('2025-03-01')),
partition p202504 values less than (to_days('2025-04-01')),
partition p202505 values less than (to_days('2025-05-01')),
partition p202506 values less than (to_days('2025-06-01')),
partition p202507 values less than (to_days('2025-07-01')),
partition p202508 values less than (to_days('2025-08-01')),
partition p202509 values less than (to_days('2025-09-01')),
partition p202510 values less than (to_days('2025-10-01')),
partition p202511 values less than (to_days('2025-11-01')),
partition p202512 values less than (to_days('2025-12-01')),
partition pmax VALUES LESS THAN MAXVALUE
);
